# Separate OpenAPI Schemas for Input and Output

When using Pydantic v2, the generated OpenAPI is more accurate than before. In some cases, it will have two JSON Schemas in OpenAPI for the same Pydantic model, for input and output, depending on default values.

## Pydantic Models for Input and Output

Consider a Pydantic model with default values.

### Model for Input

When used as input, the `description` field will not be required due to its default value of `None`.

### Input Model in Docs

In the documentation, the `description` field does not have a red asterisk, indicating it is not required.

### Model for Output

When used as output, the same model will ensure that if no value is returned for `description`, it will still have the default value.

### Model for Output Response Data

In the response, even if the code does not add anything to the `description` field, the JSON response will contain the default value (`null`). This means the field will always be present, but its value may be `None`.

Clients using the API can assume the field will always be there, even if it has the default value of `None`. In OpenAPI, this field should be marked as required.

Thus, the JSON Schema for a model can differ based on its use for input or output:
- For input, `description` is not required.
- For output, `description` is required (and may be `None` or `null`).

### Model for Output in Docs

In the documentation, both `name` and `description` are marked as required with a red asterisk.

### Model for Input and Output in Docs

In the available Schemas in OpenAPI, there are two: `Item-Input` (where `description` is not required) and `Item-Output` (where `description` is required).

With Pydantic v2, API documentation is more precise, enhancing autogenerated clients and SDKs for a better developer experience.

## Do not Separate Schemas

In some cases, you may want the same schema for input and output. This is useful if you have autogenerated client code/SDKs that you do not want to update immediately.

To disable this feature in FastAPI, use the parameter `separate_input_output_schemas=False`.

Support for `separate_input_output_schemas` was added in FastAPI 0.102.0.

### Same Schema for Input and Output Models in Docs

With this setting, there will be a single schema for input and output, with `description` marked as not required. This behavior is consistent with Pydantic v1.