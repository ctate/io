---
title: Equivalence
excerpt: Equivalence
bottomNavigation: pagination
---

## Generating Equivalences

The `Schema.equivalence` function allows you to generate an Equivalence based on a schema definition. This function is designed to compare data structures for equivalence according to the rules defined in the schema.

**Example**

```ts
import { Schema } from "effect"

const Person = Schema.Struct({
  name: Schema.String,
  age: Schema.Number
})

const PersonEquivalence = Schema.equivalence(Person)

const john = { name: "John", age: 23 }
const alice = { name: "Alice", age: 30 }

console.log(PersonEquivalence(john, { name: "John", age: 23 })) // Output: true
console.log(PersonEquivalence(john, alice)) // Output: false
```

## Customizing Equivalence Generation

You can define how equivalence is generated by utilizing the `equivalence` annotation in your schema definitions.

**Example**

```ts
import { Schema } from "effect"

const schema = Schema.String.annotations({
  equivalence: (/**typeParameters**/) => (s1, s2) =>
    s1.charAt(0) === s2.charAt(0)
})

console.log(Schema.equivalence(schema)("aaa", "abb")) // Output: true
```

In this setup, the `equivalence` annotation takes any type parameters provided (`typeParameters`) and two values for comparison, returning a boolean based on the desired condition of equivalence.